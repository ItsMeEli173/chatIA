<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>3D Generator ZCAA</title>
    <link rel="stylesheet" href="/static/styles.css">

    <!-- Three.js desde CDN -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.157.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.157.0/examples/js/loaders/STLLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.157.0/examples/js/controls/OrbitControls.js"></script>
</head>
<body>
    <header>
        <h1>âœ¨ Generador 3D ZCAA</h1>
        <p>Convierte texto o archivos en modelos STL listos para imprimir</p>
    </header>

    <main>
        <!-- Bloque Ãºnico -->
        <section class="card">
            <h2>âš™ï¸ Generar o subir modelo</h2>

            <!-- Formulario para texto -->
            <h3>ğŸ“ Generar desde texto</h3>
            <form id="text-form">
                <input type="text" name="prompt" placeholder="Ejemplo: Cubo de 20mm" required>
                <button type="submit">Generar STL</button>
            </form>

            <hr>

            <!-- Formulario de archivo -->
            <h3>ğŸ“‚ Subir STL</h3>
            <form id="file-form" enctype="multipart/form-data">
                <input type="file" id="stl-input" name="file" accept=".stl" required>
                <button type="submit">Subir y Visualizar</button>
            </form>

            <hr>

            <!-- Viewer 3D -->
            <h3>ğŸ‘ Vista previa</h3>
            <div id="viewer"></div>

            <!-- BotÃ³n de descarga -->
            <div id="download-section" style="display:none; margin-top:15px;">
                <a id="download-link" href="#" download class="download-btn">â¬‡ï¸ Descargar STL</a>
            </div>
        </section>
    </main>

    <footer>
        <p>ğŸš€ Proyecto prototipo - 3D Generator ZCAA</p>
    </footer>

    <!-- âš¡ Muy importante: script cargado al final -->
    <script src="/static/app.js"></script>
</body>
</html>
